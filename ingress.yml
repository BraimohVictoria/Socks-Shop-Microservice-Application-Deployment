apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
    name: sockshop-ingress
    namespace: sock-shop
    annotations:
    cert-manager.io/cluster-issuer: letsencrypt-app
spec:
    ingressClassName: nginx
    rules:
      - host: sockapp.goodnesseboh.engineer
        http:
          paths:
            - pathType: Prefix
              path: /
              backend:
                service:
                  name: front-end
                  port:
                    number: 80

      - host: sockprom.goodnesseboh.engineer
        http:
          paths:
            - pathType: Prefix
              path: /
              backend:
                service:
                  name: prometheus-svc ##fill with right value 
                  port:
                    number: 9090

      - host: sockgraf.goodnesseboh.engineer
        http:
          paths:
            - pathType: Prefix
              path: /
              backend:
                service:
                  name: grafana-svc ##fill with right value
                  port:
                    number: 80             
tls:
    - hosts:
        - sockapp.goodnesseboh.engineer
        - sockprom.goodnesseboh.engineer
        - sockgraf.goodnesseboh.engineer
      secretName: letsencrypt-app


##look for terraform delay explanation to work on prometheous grafana and alert manager. 
              
              